{% extends 'layouts/base.twig' %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                <p>
                </p>
                <p>
                    {{ fn('yoast_breadcrumb', '<nav id="breadcrumbs" class="main-breadcrumbs">','</nav>', false ) }}
                </p>
            </div>
        </div>

        <div class="row">
            <div class="col-2">
                {% if attributes %}
                    {% for attribute in attributes %}
                        <div class="attribute-filter">
                            <h3>{{ attribute.label }}</h3>
                            <ul>
                                {% for term in attribute.terms %}
                                    <li><a href="?filter_{{ attribute.name }}={{ term.name }}">{{ term.name }}
                                            ({{ term.count }})</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endfor %}
                {% endif %}

                <div id="rangeSlider"></div>
                <div id="slider-non-linear-step-value"></div>

            </div>

            <div class="col-10">
                <div class="row">
                    <div class="float-right">
                        {{ fn('woocommerce_catalog_ordering') }}
                    </div>
                </div>
                <div class="row">
                    {% if posts %}
                        {% for post in posts %}
                            <div class="col-4 mb-3">
                                <h2>
                                    <a href="{{ post.link }}">{{ post.title }}</a>
                                </h2>

                                <div>
                                    {% if post.thumbnail %}
                                        <img src="{{ post.thumbnail.src }}" srcset="{{ post.thumbnail.srcset }}"
                                             alt="{{ post.title }}" />
                                    {% else %}
                                        <img src="{{ theme.path }}/resources/assets/dist/images/placeholders/no-image-default.png"
                                             alt="" />
                                    {% endif %}

                                    {% if post.is_type('variable') %}
                                        <p>This is a variable product.</p>
                                    {% else %}
                                        <p>This is not a variable product.</p>
                                    {% endif %}

                                    <div class="mt-2">
                                        <button class="btn btn-primary js-add-to-cart" data-quantity="1"
                                                data-product_id="{{ post.id }}"
                                                {% if post.is_type('variable') %} disabled {% endif %}
                                        >
                                            Add to
                                            Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p>Nothing found</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                {% include 'components/pagination.twig' %}
            </div>
        </div>
    </div>

{% endblock %}
